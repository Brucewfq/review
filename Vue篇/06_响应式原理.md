Vue 2 中的数据响应式会根据数据类型做不同的处理。如果是对象，则通过Object.defineProperty(obj,key,descriptor)拦截对象属性访问，当数据被访问或改变时，感知并作出反应；如果是数组，则通过覆盖数组原型的方法，扩展它的7个变更方法（push、pop、shift、unshift、splice、sort、reverse），使这些方法可以额外的做更新通知，从而做出响应。

Object.defineProperty无法监控到数组方法（push、pop、shift、unshift、splice、sort、reverse），导致通过数组添加元素，不能实时响应。
Object.defineProperty只能劫持对象属性，从而需要对每个对象以及每个属性进行遍历。如果属性值是对象，还需要进行深度遍历。
Proxy可以劫持整个对象，并返回一个新的对象。
Proxy不仅可以代理对象，还可以代理数组，还可以代理动态增加的属性。如果属性值是对象，也需要进行遍历。

缺点：
  初始化时的递归遍历会造成性能损失；
  通知更新过程需要维护大量 dep 实例和 watcher 实例，额外占用内存较多；
  新增或删除对象属性无法拦截，需要通过 Vue.set 及 delete 这样的 API 才能生效；
  对于ES6中新产生的Map、Set这些数据结构不支持。


Vue 3 中利用ES6的Proxy机制代理需要响应化的数据。可以同时支持对象和数组，动态属性增、删都可以拦截，新增数据结构均支持，对象嵌套属性运行时递归，用到时才代理，也不需要维护特别多的依赖关系，性能取得很大进步。