# 跨域
### 一、概念：
  首先一个url是由：协议、域名、端口 三部分组成。https://blog.moonlet.cn:80
  当一个请求url的协议、域名、端口三者之间的任意一个与当前页面url不同即为跨域。
### 二、产生的原因
  出于浏览器的同源策略限制。
### 三、域名分类
  一般分为：顶级域名、二级域名、三级域名
  一个完整的域名由二个或二个以上部分组成，各部分之间用英文的句号"."来分隔，最后一个"."的右边部分称为顶级域名（TLD，也称为一级域名），最后一个"."的左边部分称为二级域名（SLD），二级域名的左边部分称为三级域名，以此类推，每一级的域名控制它下一级域名的分配。
### 四、解决方案
  1、CORS
    目前最常用的一种解决办法，通过设置后端允许跨域实现。
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader("Access-Control-Allow-Methods", "GET, PUT, OPTIONS, POST");
  2、node中间件、nginx反向代理
    跨域限制的时候浏览器不能跨域访问服务器，node中间件和nginx反向代理，都是让请求发给代理服务器，静态页面和代理服务器是同源的，然后代理服务器再向后端服务器发请求，服务器和服务器之间不存在同源制。
  3、JSONP
    利用的原理是script标签可以跨域请求资源，将回调函数作为参数拼接在url中。后端收到请求，调用该回调函数，并将数据作为参数返回去，注意设置响应头返回文档类型，应该设置成javascript。只支持GET式。
    为什么script标签可以跨域请求资源，因为浏览器并不禁止页面中引用并执行其他域的js文件，所以可以通过创建script节点实现完全跨域通信。
  4、postmessage
    H5新增API，通过发送和接收API实现跨域通信。
### 五、产生场景
  前后端分离式开发、调用第三方接口